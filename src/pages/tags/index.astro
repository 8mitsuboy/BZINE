---
import BaseLayout from "../../layouts/BaseLayout.astro";
import type { Post } from "../../types";

const pageTitle = "タグインデックス";

const allPosts = Object.values(
  import.meta.glob<Post>("../posts/*.md", { eager: true }),
);

const tags = [
  ...new Set(allPosts.map((post: Post) => post.frontmatter.tags).flat()),
];
---

<BaseLayout pageTitle={pageTitle}>
  <div class="flex flex-wrap gap-3">
    {
      tags.map((tag) => (
        <a
          href={`/tags/${tag}`}
          class="px-4 py-2 rounded-full text-sm font-medium bg-bzine-light-surface dark:bg-bzine-surface border border-bzine-light-border dark:border-bzine-border text-bzine-light-text dark:text-bzine-text hover:bg-bzine-accent/15 hover:text-bzine-accent hover:border-bzine-accent/30 transition-colors no-underline"
        >
          {tag}
        </a>
      ))
    }
  </div>
</BaseLayout>
